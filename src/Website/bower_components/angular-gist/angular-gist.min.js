angular.module("gist",[]),angular.module("gist").directive("gist",function(){return{restrict:"E",replace:!0,template:"<div></div>",link:function(scope,elm,attrs){var gistId=attrs.id,iframe=document.createElement("iframe");iframe.setAttribute("width","100%"),iframe.setAttribute("frameborder","0"),iframe.id="gist-"+gistId,elm[0].appendChild(iframe);var iframeHtml='<html><head><base target="_parent"><style>table{font-size:12px;}</style></head><body onload="parent.document.getElementById(\''+iframe.id+'\').style.height=document.body.scrollHeight + \'px\'"><script type="text/javascript" src="https://gist.github.com/'+gistId+'.js"></script></body></html>',doc=iframe.document;iframe.contentDocument?doc=iframe.contentDocument:iframe.contentWindow&&(doc=iframe.contentWindow.document),doc.open(),doc.writeln(iframeHtml),doc.close()}}});