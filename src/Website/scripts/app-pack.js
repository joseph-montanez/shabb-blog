(function(p,f,n){'use strict';f.module("ngCookies",["ng"]).factory("$cookies",["$rootScope","$browser",function(d,b){var c={},g={},h,k=!1,l=f.copy,m=f.isUndefined;b.addPollFn(function(){var a=b.cookies();h!=a&&(h=a,l(a,g),l(a,c),k&&d.$apply())})();k=!0;d.$watch(function(){var a,e,d;for(a in g)m(c[a])&&b.cookies(a,n);for(a in c)(e=c[a],f.isString(e))?e!==g[a]&&(b.cookies(a,e),d=!0):f.isDefined(g[a])?c[a]=g[a]:delete c[a];if(d)for(a in e=b.cookies(),c)c[a]!==e[a]&&(m(e[a])?delete c[a]:c[a]=e[a])});return c}]).factory("$cookieStore",["$cookies",function(d){return{get:function(b){return(b=d[b])?f.fromJson(b):b},put:function(b,c){d[b]=f.toJson(c)},remove:function(b){delete d[b]}}}])})(window,window.angular);'use strict';var prefix='app';angular.module('spa2App',['ngResource','ngSanitize','ngRoute','gist']).config(['$routeProvider','$locationProvider',function($routeProvider,$locationProvider){$locationProvider.html5Mode(false).hashPrefix('!');$routeProvider.when('/',{templateUrl:'views/main.html',controller:'MainCtrl'}).when('/about',{templateUrl:'views/about.html',controller:'MainCtrl'}).when('/blog',{templateUrl:'views/blog.html',controller:'BlogListCtrl'}).when('/blog/page/:PageNo',{templateUrl:'views/blog.html',controller:'BlogListCtrl'}).when('/blog/entry/:URL/:EntryID',{templateUrl:'views/blog-entry.html',controller:'BlogEntryCtrl'}).when('/work',{templateUrl:'views/work.html',controller:'MainCtrl'}).otherwise({redirectTo:'/'});}]);'use strict';angular.module('spa2App').controller('MainCtrl',function($scope){$scope.foo='123';$scope.awesomeThings=['HTML5 Boilerplate','AngularJS','Karma','Joseph'];$scope.isPage=function(id){return document.location.hash.indexOf(id)>-1}});'use strict';angular.module('spa2App').factory('BlogPages',['$resource',function($resource){return $resource('../api/blog/page/:PageNo',{},{query:{method:'GET',params:{PageNo:'0'}}});}]);angular.module('spa2App').factory('BlogEntry',['$resource',function($resource){return $resource('../api/blog/entry/:EntryID',{},{query:{method:'GET',params:{EntryID:'0'}}});}]);angular.module('spa2App').directive('compile',['$compile',function($compile){return function(scope,element,attrs){scope.$watch(function(scope){return scope.$eval(attrs.compile);},function(value){element.html(value);$compile(element.contents())(scope);});};}]);angular.module('spa2App').controller('BlogListCtrl',['$scope','$routeParams','BlogPages',function($scope,$routeParams,BlogPages){var pageNo=$routeParams.PageNo||0;$scope.Blogs=BlogPages.query({PageNo:pageNo},function($resource){for(var i=0;i<$resource.Items.length;i++){var dateTs=parseInt($resource.Items[i].PubDate.match(/[0-9-]+/)[0]);$resource.Items[i].PubDate=new Date(dateTs);}});}]);angular.module('spa2App').controller('BlogEntryCtrl',['$scope','$routeParams','$compile','BlogEntry',function($scope,$routeParams,$compile,BlogEntry){$scope.Blog=BlogEntry.get({EntryID:$routeParams.EntryID},function($resource){var dateTs=parseInt($resource.PubDate.match(/[0-9-]+/)[0]);$resource.PubDate=new Date(dateTs);});}]);